<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZTKweb ‚Äì Eksport</title>
  <meta name="description" content="Eksport podglƒÖdu mapy po≈ÇƒÖcze≈Ñ KibelSMP do PDF: tytu≈Ç, widok satelitarny, filtry typ√≥w, skala legendy.">
  <link rel="canonical" href="https://ztk.otworz.se/export.html" />
  <meta property="og:type" content="website">
  <meta property="og:title" content="ZTKweb ‚Äì Eksport PDF mapy KibelSMP">
  <meta property="og:description" content="Skonfiguruj podglƒÖd (tytu≈Ç, satelita, typy, legenda) i pobierz PDF.">
  <meta property="og:url" content="https://ztk.otworz.se/export.html">
  <meta property="og:image" content="https://ztk.otworz.se/assets/logo_ztk.png">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ZTKweb ‚Äì Eksport PDF mapy KibelSMP">
  <meta name="twitter:description" content="Skonfiguruj podglƒÖd i pobierz PDF.">
  <meta name="theme-color" content="#FFFFFF" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#181A21" media="(prefers-color-scheme: dark)">
  <link rel="manifest" href="/manifest.json" />
  <link rel="apple-touch-icon" href="assets/icons/ios/180.png" sizes="180x180" />
  <link rel="apple-touch-icon" href="assets/icons/ios/167.png" sizes="167x167" />
  <link rel="apple-touch-icon" href="assets/icons/ios/152.png" sizes="152x152" />
  <link rel="preload" as="fetch" href="assets/stations.json" crossorigin="anonymous">
  <link rel="preload" as="fetch" href="assets/lines.json" crossorigin="anonymous">
  <link rel="preload" as="fetch" href="assets/localities.json" crossorigin="anonymous">
  <link rel="stylesheet" href="assets/app.css" />
  <link rel="stylesheet" href="assets/export-page.css" />
  <link rel="icon" type="image/png" href="assets/favicon.png" />
</head>
<body>
  <header class="topbar">
    <div class="container topbar-inner">
      <div class="brand">
        <img class="logo" src="assets/logo_ztk.png" alt="ZTK" />
        <span class="title">ZTKweb<span class="beta">BETA</span> ‚Äì Eksport</span>
      </div>
      <div class="topbar-actions">
        <a class="btn-secondary link-plain" href="index.html" title="Powr√≥t do strony g≈Ç√≥wnej">‚Üê Powr√≥t</a>
        <button id="theme-toggle" class="theme-toggle" aria-label="Prze≈ÇƒÖcz motyw" title="Prze≈ÇƒÖcz motyw">
          <span class="theme-icon" data-light>‚òÄÔ∏è</span>
          <span class="theme-icon" data-dark>üåô</span>
        </button>
      </div>
    </div>
  </header>
  <noscript>
    <div class="container" role="alert" style="margin-top:12px">
      Ta strona wymaga JavaScript do dzia≈Çania (podglƒÖd i eksport PDF). W≈ÇƒÖcz JS w przeglƒÖdarce.
    </div>
  </noscript>
  <main class="container">
    <div class="export-layout">
      <section class="export-controls" aria-label="Ustawienia eksportu">
        <h2>Ustawienia</h2>
        <form id="export-form" class="controls-form">
          <label>
            Tytu≈Ç na wydruku
            <input type="text" name="title" placeholder="np. ZTK ‚Äì mapa po≈ÇƒÖcze≈Ñ" />
          </label>
          <div class="row">
            <label class="check"><input type="checkbox" name="sat" /> Widok satelitarny</label>
            <label class="check"><input type="checkbox" name="pol" /> Mapa polityczna</label>
            <label class="check"><input type="checkbox" name="legend" checked /> Poka≈º legendƒô</label>
            <label class="check"><input type="checkbox" name="localities" checked /> Miejscowo≈õci</label>
          </div>
          <fieldset>
            <legend>Typy linii</legend>
            <div class="row wrap">
              <label class="check" title="InterCity"><input type="checkbox" name="types" value="IC" checked /> InterCity</label>
              <label class="check" title="Regionalne"><input type="checkbox" name="types" value="REGIO" checked /> Regionalne</label>
              <label class="check" title="Metro"><input type="checkbox" name="types" value="METRO" checked /> Metro</label>
              <label class="check" title="Na ≈ºƒÖdanie"><input type="checkbox" name="types" value="ON_DEMAND" checked /> Na ≈ºƒÖdanie</label>
            </div>
          </fieldset>
          <label>
            Skala legendy
            <select name="legendScale">
              <option value="1">100%</option>
              <option value="0.9">90%</option>
              <option value="0.8" selected>80%</option>
              <option value="0.7">70%</option>
              <option value="0.6">60%</option>
              <option value="0.5">50%</option>
              <option value="0.4">40%</option>
              <option value="0.3">30%</option>
            </select>
          </label>
          <label>
            Skala etykiet stacji
            <select name="labelScale">
              <option value="1" selected>100%</option>
              <option value="0.9">90%</option>
              <option value="0.8">80%</option>
              <option value="0.7">70%</option>
              <option value="0.6">60%</option>
              <option value="0.5">50%</option>
              <option value="0.4">40%</option>
              <option value="0.3">30%</option>
            </select>
          </label>
          <div class="row">
            <button type="button" id="pdf" class="btn-search">Pobierz PDF</button>
          </div>
        </form>
      </section>
      <section class="export-preview" aria-label="PodglƒÖd">
        <div class="preview-page">
          <div class="page-inner">
            <header id="print-title" class="print-title" aria-live="polite"></header>
            <div id="map-viewport" class="preview-viewport">
              <div id="map"></div>
            </div>
            <footer id="legend" class="print-legend"></footer>
            <div id="print-footer" class="print-footer">NKaczowskie Wydawnictwo Kartograficzne. Wygenerowano za pomocƒÖ ZTKweb Beta.</div>
          </div>
        </div>
      </section>
    </div>
  </main>
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <div class="footer-left">
  <button id="contributors-open" class="link-plain btn-secondary" aria-haspopup="dialog" aria-controls="contributors-modal">Autorzy i wk≈Çad</button>
  <a class="btn-secondary link-plain" href="https://github.com/KibelSMP/ZTKweb/issues/new?template=bug_report.yml" target="_blank" rel="noopener noreferrer" title="Zg≈Ço≈õ b≈ÇƒÖd w repozytorium">üêû Zg≈Ço≈õ b≈ÇƒÖd</a>
      </div>
      <div class="footer-right">Strona nie jest w ≈ºaden spos√≥b powiƒÖzana z firmƒÖ Microsoft, Mojang lub grƒÖ Minecraft.</div>
    </div>
  </footer>
  <!-- Contributors modal -->
  <div id="contributors-overlay" class="modal-overlay" aria-hidden="true"></div>
  <div id="contributors-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="contributors-title">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="contributors-title" class="modal-title">Autorzy i wk≈Çad</h2>
        <button id="contributors-close" class="modal-close" aria-label="Zamknij">√ó</button>
      </div>
      <div id="contributors-content" class="modal-body" data-loaded=""></div>
    </div>
  </div>
  <script src="assets/map-zoom.js"></script>
  <script src="assets/map-renderer.js"></script>
  <script src="assets/legend-renderer.js"></script>
  <script src="assets/theme-toggle.js"></script>
  <script src="assets/pwa-install.js"></script>
  <script src="assets/vendor/html2pdf.bundle.min.js"></script>
  <script src="assets/export-page.js"></script>
  <script src="assets/contributors.js"></script>
  <script src="assets/outage-banner.js"></script>
  <script>
    // Block export UI on small screens
    (function(){
      var mq = window.matchMedia('(max-width: 720px)');
      function apply(e){ if(e.matches){ document.body.classList.add('export-blocked'); } else { document.body.classList.remove('export-blocked'); } }
      apply(mq);
      if (mq.addEventListener) mq.addEventListener('change', apply); else if (mq.addListener) mq.addListener(apply);
    })();
  </script>
  <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', async () => {
              const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
              if (isStandalone) {
                  navigator.serviceWorker.register('/sw.js').catch(() => {});
              } else {
                  // In regular browser: ensure no SW is controlling, to avoid caching side-effects
                  try {
                      const regs = await navigator.serviceWorker.getRegistrations();
                      for (const r of regs) { try { await r.unregister(); } catch {} }
                  } catch {}
                  // When the app gets installed or switches to standalone, register SW then
                  window.addEventListener('appinstalled', () => {
                      navigator.serviceWorker.register('/sw.js').catch(() => {});
                  });
                  const mq = window.matchMedia('(display-mode: standalone)');
                  const onChange = (ev) => { if (ev.matches) navigator.serviceWorker.register('/sw.js').catch(() => {}); };
                  if (mq && mq.addEventListener) mq.addEventListener('change', onChange);
                  else if (mq && mq.addListener) mq.addListener(onChange);
              }
          });
      }
  </script>
</body>
</html>
